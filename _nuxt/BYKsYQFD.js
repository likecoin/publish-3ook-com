import{_ as va}from"./BRD0zS0z.js";import{g as Ge,bi as ba,bj as ga,b3 as ka,l as b,m as c,n as s,t as F,q as a,P as ya,au as Ca,aw as wa,aH as Ia,aV as xa,C as K,aa as Ie,ad as Ze,bk as Sa,ai as I,c as i,p as l,W as U,bl as qa,a8 as xe,aL as ze,N as Ne,M as C,bm as La,L as _,az as Va,bn as Ua,aC as Fe,a as $a,a$ as Ra,U as Ta,s as Aa,B as Ba,R as Pa,A as Ea,Q as Ma,V as ja,e as f,w as de,o as Da,y as Oa,Y as Qa,ab as za,$ as w,a0 as Na,bo as Fa,a1 as Ka,bp as Ha,an as Ke,Z as Wa,ac as Ya,bq as Ga,a4 as Za,ae as Ja,af as He,S as We,br as Xa,bs as et,bt as at,bu as Ye}from"./9S2XGRg9.js";import{_ as tt}from"./D3om2a5D.js";import{_ as nt}from"./Bu69eulW.js";import{_ as lt}from"./CQhxZvjT.js";import{_ as ot}from"./drKZnbC8.js";import{_ as st}from"./BAMg4a5m.js";import{_ as it,d as rt}from"./CL7xOAbk.js";import{_ as ut}from"./CLuOJMie.js";import{_ as ct}from"./Bzm9dzjm.js";import{u as dt}from"./DOPoUBoe.js";import"./DVNOgE3D.js";import"./DvvTWQeW.js";import"./D89E3aNf.js";(function(){try{var g=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};g.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var g=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},x=new g.Error().stack;x&&(g._sentryDebugIds=g._sentryDebugIds||{},g._sentryDebugIds[x]="8ca7cbbe-0506-4970-9fdd-bde820da02b3",g._sentryDebugIdIdentifier="sentry-dbid-8ca7cbbe-0506-4970-9fdd-bde820da02b3")})()}catch{}var mt=Ge({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(g){const x=g,d=ba(),R=ga();return ka(),(q,H)=>(c(),b(a(ya),{as:x.as,"as-child":x.asChild,"data-orientation":a(d).orientation,"data-state":a(R).dataState.value,"data-disabled":a(R).dataDisabled.value},{default:s(()=>[F(q.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),pt=mt;const _t={slots:{root:"w-full",item:"border-b border-default last:border-b-0",header:"flex",trigger:"group flex-1 flex items-center gap-1.5 font-medium text-sm py-3.5 focus-visible:outline-primary min-w-0",content:"data-[state=open]:animate-[accordion-down_200ms_ease-out] data-[state=closed]:animate-[accordion-up_200ms_ease-out] overflow-hidden focus:outline-none",body:"text-sm pb-3.5",leadingIcon:"shrink-0 size-5",trailingIcon:"shrink-0 size-5 ms-auto group-data-[state=open]:rotate-180 transition-transform duration-200",label:"text-start break-words"},variants:{disabled:{true:{trigger:"cursor-not-allowed opacity-75"}}}},ft={__name:"UAccordion",props:{as:{type:null,required:!1},items:{type:Array,required:!1},trailingIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},collapsible:{type:Boolean,required:!1,default:!0},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},type:{type:String,required:!1,default:"single"},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(g,{emit:x}){const d=g,R=x,q=Ca(),H=wa(),T=Ia(xa(d,"as","collapsible","defaultValue","disabled","modelValue","type","unmountOnHide"),R),h=i(()=>Fe({extend:Fe(_t),...H.ui?.accordion||{}})({disabled:d.disabled}));return($,W)=>(c(),b(a(Ua),Va(a(T),{class:h.value.root({class:[d.ui?.root,d.class]})}),{default:s(()=>[(c(!0),K(Ie,null,Ze(d.items,(n,m)=>(c(),b(a(Sa),{key:m,value:n.value||String(m),disabled:n.disabled,class:I(h.value.item({class:[d.ui?.item,n.ui?.item,n.class]}))},{default:s(({open:L})=>[l(a(pt),{as:"div",class:I(h.value.header({class:[d.ui?.header,n.ui?.header]}))},{default:s(()=>[l(a(qa),{class:I(h.value.trigger({class:[d.ui?.trigger,n.ui?.trigger],disabled:n.disabled}))},{default:s(()=>[F($.$slots,"leading",{item:n,index:m,open:L},()=>[n.icon?(c(),b(xe,{key:0,name:n.icon,class:I(h.value.leadingIcon({class:[d.ui?.leadingIcon,n?.ui?.leadingIcon]}))},null,8,["name","class"])):U("",!0)]),a(ze)(n,d.labelKey)||q.default?(c(),K("span",{key:0,class:I(h.value.label({class:[d.ui?.label,n.ui?.label]}))},[F($.$slots,"default",{item:n,index:m,open:L},()=>[Ne(C(a(ze)(n,d.labelKey)),1)])],2)):U("",!0),F($.$slots,"trailing",{item:n,index:m,open:L},()=>[l(xe,{name:n.trailingIcon||g.trailingIcon||a(H).ui.icons.chevronDown,class:I(h.value.trailingIcon({class:[d.ui?.trailingIcon,n.ui?.trailingIcon]}))},null,8,["name","class"])])]),_:2},1032,["class"])]),_:2},1032,["class"]),n.content||q.content||n.slot&&q[n.slot]||q.body||n.slot&&q[`${n.slot}-body`]?(c(),b(a(La),{key:0,class:I(h.value.content({class:[d.ui?.content,n.ui?.content]}))},{default:s(()=>[F($.$slots,n.slot||"content",{item:n,index:m,open:L},()=>[_("div",{class:I(h.value.body({class:[d.ui?.body,n.ui?.body]}))},[F($.$slots,n.slot?`${n.slot}-body`:"body",{item:n,index:m,open:L},()=>[Ne(C(n.content),1)])],2)])]),_:2},1032,["class"])):U("",!0)]),_:2},1032,["value","disabled","class"]))),128))]),_:3},16,["class"]))}},ht={key:0,class:"flex flex-col items-center justify-center self-stretch gap-4 py-10"},vt=["textContent"],bt={class:"flex gap-2"},gt=["textContent"],kt={class:"relative flex max-md:flex-col flex-wrap gap-4"},yt={class:"flex items-center gap-2"},Ct=["textContent"],wt={key:0},It=["textContent"],xt=["textContent"],St=["textContent"],qt=["textContent"],Lt={class:"flex items-center gap-2 font-bold"},Vt=["textContent"],Ut=["textContent"],$t=["textContent"],Rt={class:"flex items-center gap-2"},Tt={class:"font-bold font-mono"},Ce="bookpress",we="affiliate",Wt=Ge({__name:"purchase-link",setup(g){const{LIKE_CO_API:x,SITE_URL:d}=$a().public,R=Ra(),q=dt(),H=Ta(),{userLikerInfo:T}=Aa(H),h=Ba(),$=Pa(),W=Ea(),{t:n}=Ma(),m=i({get:()=>h.query.share==="1",set:e=>{We($({query:{...h.query,share:e?"1":void 0}}),{replace:!0})}}),L=i(()=>m.value?n("purchase_link.sharing_mode_title"):n("purchase_link.generator_mode_title"));ja({title:()=>L.value,ogTitle:()=>L.value});const me=f(""),ae=i({get:()=>{if(me.value)return me.value;const e=h.query.product_id;return e?Array.isArray(e)?e.join(`
`):e:""},set:e=>{me.value=e}}),Se=i(()=>ae.value.split(`
`).map(e=>e.trim()).filter(Boolean)),Je=i(()=>Se.value[0]||""),qe=i(()=>Se.value.map(e=>{let t=e.trim();return t.startsWith("http")&&(t=new URL(t).pathname.split("/").pop()),t?.startsWith("0x")?t:""}).filter(Boolean)),Le=i(()=>qe.value[0]||"");function Ve(e={}){const t=new URLSearchParams;return e.utmCampaign&&t.set("utm_campaign",e.utmCampaign),e.utmSource&&t.set("utm_source",e.utmSource),e.utmMedium&&t.set("utm_medium",e.utmMedium),t.toString().replace("?","")}const te=f(""),Y=f(!0),ne=f(""),le=f(""),pe=i(()=>{const e=M.value==="liker_land";return A.value?"custom-link":e?"likerland":"stripe"}),_e=f(""),G=i({get:()=>_e.value?_e.value:Ve({utmCampaign:te.value,utmSource:le.value,utmMedium:ne.value}),set:e=>{_e.value=e}}),Xe=i(()=>Ve({utmCampaign:Ce,utmSource:pe.value,utmMedium:we})),fe=i(()=>({utm_medium:we,utm_source:pe.value,utm_campaign:Ce})),E=i(()=>{const e={...fe.value},t=Je.value?.trim()||"";if(t.startsWith("http")){const{searchParams:u}=new URL(t);u.delete("from"),Object.assign(e,Object.fromEntries(u))}return G.value&&Object.assign(e,Object.fromEntries(new URLSearchParams(G.value))),e}),Ue=i(()=>Object.entries(E.value).filter(([e])=>!(e==="utm_campaign"&&Y.value)).map(([e,t])=>({key:e,value:t}))),$e=i(()=>[{name:n("purchase_link.liker_land_product"),value:"liker_land"},{name:n("purchase_link.stripe_checkout"),value:"direct"},{name:n("purchase_link.custom_page"),value:"custom"}]),M=f($e.value[0]?.value||"liker_land"),A=i(()=>M.value==="custom"),j=f(h.query.custom_link||""),he=f(""),V=i({get:()=>{if(he.value)return he.value;const e=h.query.from;return e?Array.isArray(e)?e.join(","):e:""},set:e=>{he.value=e}}),Z=i(()=>V.value.split(",").map(e=>e.trim()).filter(Boolean).map(e=>{const t=R.getChannelInfoById(e);return{id:e,name:t?.displayName||e}})),Re=f(!1),oe=i({get:()=>!Z.value.length||Re.value,set:e=>{Re.value=e}}),se=i(()=>Z.value.concat(oe.value?Xa:[])),B=i(()=>se.value.length>1),ie=f("");de(Le,()=>{ie.value=""});const J=f("");de(V,()=>{J.value=""});const D=f(""),Te=i(()=>!!D.value),Ae=i(()=>A.value?!!j.value:!!Le.value&&!Te.value),S=f(void 0),re=i(()=>{const e={};if(S.value)for(const{id:t,data:u}of S.value)u.prices?e[t]=u.prices.map(r=>{let k="";return typeof r.name=="object"?k=r.name?.zh||r.name?.en||"":k=r.name||"",{label:[k,`$${r.price}`].filter(Boolean).join(" - "),value:r.index||0}}):e[t]=[];return e}),O=f({}),Be=i(()=>S.value?.map(({id:e,data:t})=>({id:e,name:typeof t.name=="object"?t.name?.zh||t.name?.en:t.name,editionOptions:re.value[e]||[]}))||[]),ea=i(()=>{const e=[];return A.value||e.push({accessorKey:"productId",header:n("common.title")},{accessorKey:"selectedEditionLabel",header:n("table.selected_edition")}),m.value||e.push({accessorKey:"utmCampaign",header:n("purchase_link.utm_campaign")}),e.push({accessorKey:"link",header:n("common.link")}),e}),ve=i(()=>{const e=new Map,t=[...new Map(se.value.map(r=>[r.id,r])).values()];return(A.value?[{id:"custom",data:{name:"Custom"}}]:S.value||[]).forEach(({id:r,data:k})=>{t.forEach(p=>{e.has(p.id)||e.set(p.id,[]);let z=E.value.utm_campaign||fe.value.utm_campaign||"";Y.value&&p.id!==et&&(z=`${at(p.id)}_${z}`);const y=O.value[r]||0,ee={classId:r||"",channel:p.id,priceIndex:y,customLink:A.value?j.value:void 0,isUseLikerLandLink:M.value==="liker_land",query:{utm_campaign:z,...E.value}};e.get(p.id)?.push({productId:r,productName:(typeof k.name=="object"?k.name?.zh||k.name?.en:k.name)||"",selectedEditionIndex:y,selectedEditionLabel:re.value?.[r]?.[y]?.label||"",channelId:p.id,channelName:p.name,utmCampaign:z,utmMedium:E.value.utm_medium||"",utmSource:E.value.utm_source||"",url:Ye(ee),qrCodeUrl:Ye({...ee,isForQRCode:E.value.utm_source===fe.value.utm_source})})})}),e}),ue=i(()=>se.value.flatMap(e=>ve.value.get(e.id)||[])),X=e=>ve.value.get(e)||[],Q=f(void 0),ce=i({get:()=>!!Q.value,set:e=>{e||(Q.value=void 0)}});async function aa(e){const t=await $fetch(`${x}/likernft/book/store/${e}`);return{id:e,data:t}}async function be(){if(ie.value="",S.value=void 0,O.value={},J.value="",D.value="",!!Ae.value)try{if(Z.value.length){D.value=n("purchase_link.validating_channels");const e=Z.value.find(t=>!Ga(t.id));if(e){J.value=n("purchase_link.invalid_channel")+` "${e.id}", please enter a valid channel ID starting with "@"`;return}try{await Promise.all(Z.value.map(async t=>{const u=await R.lazyFetchChannelInfoById(t.id);if(!u)throw new Error(n("purchase_link.channel_no_liker_id"));const r=await q.fetchStripeConnectStatusByWallet(u.evmWallet);if(!r?.hasAccount)throw new Error(n("purchase_link.channel_no_stripe"));if(!r?.isReady)throw new Error(n("purchase_link.channel_stripe_incomplete"))}))}catch(t){J.value=t.message,m.value=!1;return}}D.value=n("purchase_link.fetching_product_data");try{const e=await Promise.all(qe.value.map(t=>aa(t)));S.value=e}catch(e){ie.value=e.message,m.value=!1}}catch(e){console.error(e),W.add({icon:"i-heroicons-exclamation-circle",title:n("purchase_link.failed_create_link"),duration:0,color:"error"}),m.value=!1}finally{D.value=""}}function Pe(e){const t=[];if(A.value){const u=new URL(j.value);t.push(u.hostname)}else t.push(`${e.productName||e.productId}`);return e.channelId&&t.push(`channel-${e.channelId}`),t.join("_")}async function Ee(e=""){await navigator.clipboard.writeText(e),W.add({icon:"i-heroicons-check-circle",title:n("purchase_link.copied_to_clipboard"),duration:2e3,color:"success"})}function Me(e=[],t){Ja({data:e.map(({selectedEditionIndex:u,selectedEditionLabel:r,...k})=>({edition:`${u+1}. ${r}`,...k})),fileName:["affiliation_links",t,Date.now()].filter(Boolean).join("_").concat(".csv"),fileType:"csv"})}function ta(){Me(ue.value)}function na(e){return()=>Me(X(e))}function je(e=[]){try{sessionStorage.setItem("nft_book_press_batch_qrcode",He(e.map(({channelId:t,qrCodeUrl:u,...r})=>({key:t,...r,url:u})))),window.open("/batch-qrcode?print=1","batch_qrcode","popup,menubar=no,location=no,status=no")}catch(t){console.error(t),W.add({icon:"i-heroicons-exclamation-circle",title:n("purchase_link.failed_print_qr"),duration:0,color:"error"})}}function la(){je(ue.value)}function oa(e){return()=>je(X(e))}function De(e=[]){try{sessionStorage.setItem("nft_book_press_batch_shorten_url",He(e.map(({channelId:t,...u})=>({key:t,...u})))),We($({name:"batch-short-links",query:{print:1}}))}catch(t){console.error(t),W.add({icon:"i-heroicons-exclamation-circle",title:n("purchase_link.failed_shorten_links"),duration:0,color:"error"})}}function sa(){De(ue.value)}function ia(e){return()=>De(X(e))}function ra(e){return()=>{const t=new URL(`${d}/affiliation-link`);t.searchParams.set("from",e),t.searchParams.set("share","1"),t.searchParams.set("nav","0"),X(e).forEach(r=>{t.searchParams.append("product_id",r.productId)}),Ee(t.toString())}}async function Oe(e=[],t){const u=e.map(r=>({url:r.qrCodeUrl,filename:Pe(r)}));await rt(u,{zipFilename:["affiliation_links_qrcodes",t,Date.now()].filter(Boolean).join("_")})}async function ua(){await Oe(ue.value)}function ca(e){return()=>Oe(X(e),e)}function ge(){!V.value&&T.value&&(V.value=Za(T.value.user))}return Da(()=>{m.value&&Oa(()=>{be()}),ge()}),de(m,e=>{e?be():S.value=void 0}),de(T,()=>{T.value&&ge()}),(e,t)=>{const u=va,r=xe,k=tt,p=za,P=Na,z=nt,y=Ka,ee=lt,N=Qa,da=ft,ke=ot,Qe=st,ma=Wa,pa=it,_a=Ya,fa=ut,ha=ct;return c(),b(ha,null,{default:s(()=>[l(u,{title:a(L)},null,8,["title"]),l(fa,{class:"flex flex-col items-stretch grow space-y-8"},{default:s(()=>[!a(S)&&a(m)||a(Te)?(c(),K("div",ht,[l(r,{class:"w-10 h-10 animate-spin",name:"i-heroicons-arrow-path-20-solid"}),_("span",{class:"text-gray-400 dark:text-gray-700 text-sm",textContent:C(a(D)||a(n)("purchase_link.failed_create_link"))},null,8,vt)])):a(S)?(c(),K(Ie,{key:2},[a(m)?U("",!0):(c(),K("header",wt,[l(y,{icon:"i-heroicons-arrow-uturn-left",label:a(n)("purchase_link.back_to_config"),variant:"soft",onClick:t[10]||(t[10]=o=>S.value=void 0)},null,8,["label"])])),a(B)&&a(Be).length?(c(),b(N,{key:1,ui:{body:"p-0"}},{header:s(()=>[_("h3",{class:"text-lg font-bold",textContent:C(a(n)("purchase_link.product_list"))},null,8,It)]),default:s(()=>[l(ke,{columns:[{accessorKey:"name",header:a(n)("table.name")},{accessorKey:"editionSelect",header:a(n)("table.selected_edition")}],data:a(Be)},{"name-cell":s(({row:o})=>[_("span",{textContent:C(o.original.name)},null,8,xt)]),"editionSelect-cell":s(({row:o})=>[o.original.editionOptions.length?(c(),b(k,{key:0,class:"min-w-[200px]","model-value":a(O)[o.original.id]||0,items:o.original.editionOptions,"onUpdate:modelValue":v=>a(O)[o.original.id]=v},null,8,["model-value","items","onUpdate:modelValue"])):U("",!0)]),_:1},8,["columns","data"])]),_:1})):U("",!0),!a(m)&&a(Ue).length?(c(),b(N,{key:2,ui:{body:"p-0"}},{header:s(()=>[_("h3",{class:"text-lg font-bold",textContent:C(a(n)("purchase_link.common_query_string"))},null,8,St)]),default:s(()=>[l(ke,{columns:[{accessorKey:"key",header:a(n)("table.key")},{accessorKey:"value",header:a(n)("table.value")}],data:a(Ue),ui:{td:"font-mono"}},null,8,["columns","data"])]),_:1})):U("",!0),l(N,{ui:{header:"flex justify-between items-center gap-4",body:a(B)?"space-y-8":"space-y-8 p-0"}},Ke({default:s(()=>[(c(!0),K(Ie,null,Ze(a(se),o=>(c(),b(N,{key:o.id,class:I(["overflow-hidden",a(B)?"":"ring-0 shadow-none"]),ui:{header:"flex justify-between items-center gap-4",body:"p-0"}},{header:s(()=>[_("h3",Lt,[_("span",{class:I(a(B)?"text-md":"text-lg"),textContent:C(o.name)},null,10,Vt),_("span",{class:I([a(B)?"text-xs":"text-sm","text-gray-400 dark:text-gray-700","font-mono"]),textContent:C(o.id)},null,10,Ut)]),l(Qe,{items:[[{label:a(n)("purchase_link.print_qr_codes"),icon:"i-heroicons-qr-code",click:oa(o.id)},{label:a(n)("purchase_link.download_qr_codes"),icon:"i-heroicons-arrow-down-on-square-stack",click:ca(o.id)},{label:a(n)("purchase_link.download_links"),icon:"i-heroicons-arrow-down-on-square-stack",click:na(o.id)},{label:a(n)("purchase_link.shorten_links"),icon:"i-heroicons-sparkles",click:ia(o.id)},{label:a(n)("purchase_link.share_table"),icon:"i-heroicons-document-duplicate",click:ra(o.id)}]],popper:{placement:"top-end"}},{default:s(()=>[l(y,{icon:"i-heroicons-ellipsis-horizontal-20-solid",color:"neutral",size:"sm",variant:"soft"})]),_:1},8,["items"])]),default:s(()=>[l(ke,{columns:a(ea),data:a(ve).get(o.id)},Ke({"productId-cell":s(({row:v})=>[_("div",{textContent:C(v.original.productName)},null,8,$t)]),"utmCampaign-cell":s(({row:v})=>[l(ma,{class:"font-mono",value:v.original.utmCampaign},null,8,["value"])]),"link-cell":s(({row:v})=>[_("div",Rt,[l(y,{icon:"i-heroicons-qr-code",variant:"outline",size:"xs",onClick:ye=>Q.value=v.original},null,8,["onClick"]),l(y,{icon:"i-heroicons-document-duplicate",variant:"outline",size:"xs",onClick:ye=>Ee(v.original.url||"")},null,8,["onClick"]),l(y,{class:"font-mono break-all",label:v.original.url,to:v.original.url,color:"neutral",variant:"outline",size:"xs",target:"_blank"},null,8,["label","to"])])]),_:2},[a(B)?void 0:{name:"selectedEditionLabel-cell",fn:s(({row:v})=>[a(re)?.[v.original.productId]?.length?(c(),b(k,{key:0,class:"min-w-[200px]","model-value":a(O)[v.original.productId]||0,items:a(re)?.[v.original.productId]||[],"onUpdate:modelValue":ye=>a(O)[v.original.productId]=ye},null,8,["model-value","items","onUpdate:modelValue"])):U("",!0)]),key:"0"}]),1032,["columns","data"])]),_:2},1032,["class"]))),128))]),_:2},[a(B)?{name:"header",fn:s(()=>[_("h2",{class:"text-lg font-bold",textContent:C(a(n)("purchase_link.affiliation_links"))},null,8,qt),l(Qe,{items:[[{label:a(n)("purchase_link.print_all_qr"),icon:"i-heroicons-qr-code",click:la},{label:a(n)("purchase_link.download_qr_codes"),icon:"i-heroicons-arrow-down-on-square-stack",click:ua},{label:a(n)("purchase_link.download_all_links"),icon:"i-heroicons-arrow-down-on-square-stack",click:ta},{label:a(n)("purchase_link.shorten_all_links"),icon:"i-heroicons-sparkles",click:sa}]],popper:{placement:"top-end"}},{default:s(()=>[l(y,{icon:"i-heroicons-ellipsis-horizontal-20-solid",color:"neutral",variant:"soft"})]),_:1},8,["items"])]),key:"0"}:void 0]),1032,["ui"]),l(_a,{open:a(ce),"onUpdate:open":t[12]||(t[12]=o=>w(ce)?ce.value=o:null)},{content:s(()=>[a(Q)?(c(),b(pa,{key:0,data:a(Q).qrCodeUrl,"file-name":Pe(a(Q)),width:500,height:500},{header:s(()=>[_("h3",Tt,C(a(n)("purchase_link.download_qr_modal")),1),l(y,{icon:"i-heroicons-x-mark",color:"neutral",variant:"ghost",onClick:t[11]||(t[11]=o=>ce.value=!1)})]),_:1},8,["data","file-name"])):U("",!0)]),_:1},8,["open"])],64)):(c(),b(N,{key:1,ui:{body:"space-y-4",footer:"flex justify-end"}},{footer:s(()=>[l(y,{label:a(n)("purchase_link.generate"),size:"lg",disabled:!a(Ae),onClick:be},null,8,["label","disabled"])]),default:s(()=>[l(p,{label:a(n)("purchase_link.destination")},{default:s(()=>[l(k,{modelValue:a(M),"onUpdate:modelValue":t[0]||(t[0]=o=>w(M)?M.value=o:null),items:a($e),"option-attribute":"name"},null,8,["modelValue","items"])]),_:1},8,["label"]),a(A)?(c(),b(p,{key:0,label:a(n)("purchase_link.custom_page_url"),required:!0},{default:s(()=>[l(P,{modelValue:a(j),"onUpdate:modelValue":t[1]||(t[1]=o=>w(j)?j.value=o:null),class:"font-mono",placeholder:"https://3ook.com/store?tag=blockchain",name:"custom_destination_url"},null,8,["modelValue"])]),_:1},8,["label"])):(c(),b(p,{key:1,label:a(n)("purchase_link.product_ids"),error:a(ie),required:!0},{default:s(()=>[l(z,{modelValue:a(ae),"onUpdate:modelValue":t[2]||(t[2]=o=>w(ae)?ae.value=o:null),class:"font-mono",placeholder:"0x53c7243b94b3c4a4827816f00d72394ddfb974c4\\n0x146736dd2ccb1dbdf266130a117609e00ad566b1",autoresize:!0,name:"product_id"},null,8,["modelValue"])]),_:1},8,["label","error"])),l(p,{label:a(n)("purchase_link.channel_ids"),hint:a(n)("purchase_link.optional"),error:a(J),ui:{help:"flex items-center gap-2"}},{help:s(()=>[l(ee,{modelValue:a(oe),"onUpdate:modelValue":t[4]||(t[4]=o=>w(oe)?oe.value=o:null),disabled:!a(V)},null,8,["modelValue","disabled"]),_("span",{textContent:C(a(n)("purchase_link.include_default_channels"))},null,8,gt)]),default:s(()=>[_("div",bt,[l(P,{modelValue:a(V),"onUpdate:modelValue":t[3]||(t[3]=o=>w(V)?V.value=o:null),class:"grow font-mono",placeholder:a(n)("purchase_link.channel_ids_placeholder"),name:"channel_ids"},null,8,["modelValue","placeholder"]),Fa(l(y,{class:"relative",label:a(n)("purchase_link.prefill_from_account"),color:"neutral",variant:"outline",size:"xs",onClick:ge},null,8,["label"]),[[Ha,!a(V)&&a(T)]])])]),_:1},8,["label","hint","error"]),l(da,{color:"neutral",variant:"soft",size:"md",items:[{label:a(n)("purchase_link.query_string_optional"),defaultOpen:!0,slot:"body"}],ui:{content:"p-0"}},{body:s(()=>[l(N,{ui:{body:"space-y-4"}},{default:s(()=>[_("div",kt,[l(p,{class:"flex-1",label:a(n)("purchase_link.utm_campaign")},{default:s(()=>[l(P,{modelValue:a(te),"onUpdate:modelValue":t[5]||(t[5]=o=>w(te)?te.value=o:null),class:"font-mono",name:"utm_campaign",placeholder:`e.g. ${Ce}`},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{class:"flex-1",label:a(n)("purchase_link.utm_source")},{default:s(()=>[l(P,{modelValue:a(le),"onUpdate:modelValue":t[6]||(t[6]=o=>w(le)?le.value=o:null),class:"font-mono",name:"utm_source",placeholder:`e.g. ${a(pe)}`},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{class:"flex-1",label:a(n)("purchase_link.utm_medium")},{default:s(()=>[l(P,{modelValue:a(ne),"onUpdate:modelValue":t[7]||(t[7]=o=>w(ne)?ne.value=o:null),class:"font-mono",name:"utm_medium",placeholder:`e.g. ${we}`},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),l(p,{label:a(n)("purchase_link.additional_query_string")},{default:s(()=>[l(P,{modelValue:a(G),"onUpdate:modelValue":t[8]||(t[8]=o=>w(G)?G.value=o:null),class:"font-mono",placeholder:a(Xe),name:"query_params"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),_("div",yt,[l(ee,{modelValue:a(Y),"onUpdate:modelValue":t[9]||(t[9]=o=>w(Y)?Y.value=o:null)},null,8,["modelValue"]),_("span",{textContent:C(a(n)("purchase_link.prefix_channel_id"))},null,8,Ct)])]),_:1})]),_:1},8,["items"])]),_:1}))]),_:1})]),_:1})}}});export{Wt as default};
