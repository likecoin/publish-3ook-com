import{X as zt,j as Ut,V as Wt,G as Ve,E as qt,m as Ht,a as Vt}from"./TL8mggxM.js";import{k as cr,x as sr,O as fr,S as lr,c as dr,e as vr,D as hr,w as yr,f as pr,H as mr,d as br,t as gr,g as wr,_ as _r,I as Er,T as Ir,A as Sr,R as Or,N as Nr,h as Ar,y as jr,i as Dr,Q as Rr,U as kr,u as Br,l as Cr,C as Tr,n as xr,P as Mr,Y as Pr,J as Fr,B as Lr,$ as zr,o as Ur,L as Wr,v as qr,p as Hr,z as Vr,F as Jr,q as Kr,r as Xr,W as Qr,s as Yr,b as Gr,Z as Zr}from"./TL8mggxM.js";(function(){try{var y=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};y.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var y=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},I=new y.Error().stack;I&&(y._sentryDebugIds=y._sentryDebugIds||{},y._sentryDebugIds[I]="b3f5b5c4-4ef5-4ef4-ba7d-7aa0e8411324",y._sentryDebugIdIdentifier="sentry-dbid-b3f5b5c4-4ef5-4ef4-ba7d-7aa0e8411324")})()}catch{}var Jt=Object.create,Ke=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Xt=Object.getOwnPropertyNames,Qt=Object.getPrototypeOf,Yt=Object.prototype.hasOwnProperty,ye=(y=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(y,{get:(I,w)=>(typeof require<"u"?require:I)[w]}):y)(function(y){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+y+'" is not supported')}),Xe=(y,I)=>()=>(I||y((I={exports:{}}).exports,I),I.exports),Gt=(y,I,w,B)=>{if(I&&typeof I=="object"||typeof I=="function")for(let H of Xt(I))!Yt.call(y,H)&&H!==w&&Ke(y,H,{get:()=>I[H],enumerable:!(B=Kt(I,H))||B.enumerable});return y},Qe=(y,I,w)=>(w=y!=null?Jt(Qt(y)):{},Gt(!y||!y.__esModule?Ke(w,"default",{value:y,enumerable:!0}):w,y)),Zt=Xe((y,I)=>{(function(w){if(typeof y=="object"&&typeof I<"u")I.exports=w();else if(typeof define=="function"&&define.amd)define([],w);else{var B;typeof window<"u"?B=window:typeof globalThis<"u"?B=globalThis:typeof self<"u"?B=self:B=this,B.localforage=w()}})(function(){return(function w(B,H,C){function q(F,K){if(!H[F]){if(!B[F]){var p=typeof ye=="function"&&ye;if(!K&&p)return p(F,!0);if(A)return A(F,!0);var _=new Error("Cannot find module '"+F+"'");throw _.code="MODULE_NOT_FOUND",_}var M=H[F]={exports:{}};B[F][0].call(M.exports,function(P){var Y=B[F][1][P];return q(Y||P)},M,M.exports,w,B,H,C)}return H[F].exports}for(var A=typeof ye=="function"&&ye,U=0;U<C.length;U++)q(C[U]);return q})({1:[function(w,B,H){(function(C){var q=C.MutationObserver||C.WebKitMutationObserver,A;if(q){var U=0,F=new q(P),K=C.document.createTextNode("");F.observe(K,{characterData:!0}),A=function(){K.data=U=++U%2}}else if(!C.setImmediate&&typeof C.MessageChannel<"u"){var p=new C.MessageChannel;p.port1.onmessage=P,A=function(){p.port2.postMessage(0)}}else"document"in C&&"onreadystatechange"in C.document.createElement("script")?A=function(){var j=C.document.createElement("script");j.onreadystatechange=function(){P(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},C.document.documentElement.appendChild(j)}:A=function(){setTimeout(P,0)};var _,M=[];function P(){_=!0;for(var j,Z,L=M.length;L;){for(Z=M,M=[],j=-1;++j<L;)Z[j]();L=M.length}_=!1}B.exports=Y;function Y(j){M.push(j)===1&&!_&&A()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(w,B,H){var C=w(1);function q(){}var A={},U=["REJECTED"],F=["FULFILLED"],K=["PENDING"];B.exports=p;function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=K,this.queue=[],this.outcome=void 0,v!==q&&Y(this,v)}p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,N){if(typeof v!="function"&&this.state===F||typeof N!="function"&&this.state===U)return this;var S=new this.constructor(q);if(this.state!==K){var D=this.state===F?v:N;M(S,D,this.outcome)}else this.queue.push(new _(S,v,N));return S};function _(v,N,S){this.promise=v,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(v){A.resolve(this.promise,v)},_.prototype.otherCallFulfilled=function(v){M(this.promise,this.onFulfilled,v)},_.prototype.callRejected=function(v){A.reject(this.promise,v)},_.prototype.otherCallRejected=function(v){M(this.promise,this.onRejected,v)};function M(v,N,S){C(function(){var D;try{D=N(S)}catch(W){return A.reject(v,W)}D===v?A.reject(v,new TypeError("Cannot resolve promise with itself")):A.resolve(v,D)})}A.resolve=function(v,N){var S=j(P,N);if(S.status==="error")return A.reject(v,S.value);var D=S.value;if(D)Y(v,D);else{v.state=F,v.outcome=N;for(var W=-1,J=v.queue.length;++W<J;)v.queue[W].callFulfilled(N)}return v},A.reject=function(v,N){v.state=U,v.outcome=N;for(var S=-1,D=v.queue.length;++S<D;)v.queue[S].callRejected(N);return v};function P(v){var N=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof N=="function")return function(){N.apply(v,arguments)}}function Y(v,N){var S=!1;function D(Q){S||(S=!0,A.reject(v,Q))}function W(Q){S||(S=!0,A.resolve(v,Q))}function J(){N(W,D)}var X=j(J);X.status==="error"&&D(X.value)}function j(v,N){var S={};try{S.value=v(N),S.status="success"}catch(D){S.status="error",S.value=D}return S}p.resolve=Z;function Z(v){return v instanceof this?v:A.resolve(new this(q),v)}p.reject=L;function L(v){var N=new this(q);return A.reject(N,v)}p.all=oe;function oe(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=v.length,D=!1;if(!S)return this.resolve([]);for(var W=new Array(S),J=0,X=-1,Q=new this(q);++X<S;)$(v[X],X);return Q;function $(ie,ue){N.resolve(ie).then(fe,function(te){D||(D=!0,A.reject(Q,te))});function fe(te){W[ue]=te,++J===S&&!D&&(D=!0,A.resolve(Q,W))}}}p.race=ee;function ee(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=v.length,D=!1;if(!S)return this.resolve([]);for(var W=-1,J=new this(q);++W<S;)X(v[W]);return J;function X(Q){N.resolve(Q).then(function($){D||(D=!0,A.resolve(J,$))},function($){D||(D=!0,A.reject(J,$))})}}},{1:1}],3:[function(w,B,H){(function(C){typeof C.Promise!="function"&&(C.Promise=w(2))}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(w,B,H){var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var U=A();function F(){try{if(!U||!U.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function K(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if(i.name!=="TypeError")throw i;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new r,n=0;n<e.length;n+=1)o.append(e[n]);return o.getBlob(t.type)}}typeof Promise>"u"&&w(3);var p=Promise;function _(e,t){t&&e.then(function(r){t(null,r)},function(r){t(r)})}function M(e,t,r){typeof t=="function"&&e.then(t),typeof r=="function"&&e.catch(r)}function P(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var j="local-forage-detect-blob-support",Z=void 0,L={},oe=Object.prototype.toString,ee="readonly",v="readwrite";function N(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),n=0;n<t;n++)o[n]=e.charCodeAt(n);return r}function S(e){return new p(function(t){var r=e.transaction(j,v),o=K([""]);r.objectStore(j).put(o,"key"),r.onabort=function(n){n.preventDefault(),n.stopPropagation(),t(!1)},r.oncomplete=function(){var n=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);t(i||!n||parseInt(n[1],10)>=43)}}).catch(function(){return!1})}function D(e){return typeof Z=="boolean"?p.resolve(Z):S(e).then(function(t){return Z=t,Z})}function W(e){var t=L[e.name],r={};r.promise=new p(function(o,n){r.resolve=o,r.reject=n}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function J(e){var t=L[e.name],r=t.deferredOperations.pop();if(r)return r.resolve(),r.promise}function X(e,t){var r=L[e.name],o=r.deferredOperations.pop();if(o)return o.reject(t),o.promise}function Q(e,t){return new p(function(r,o){if(L[e.name]=L[e.name]||g(),e.db)if(t)W(e),e.db.close();else return r(e.db);var n=[e.name];t&&n.push(e.version);var i=U.open.apply(U,n);t&&(i.onupgradeneeded=function(u){var c=i.result;try{c.createObjectStore(e.storeName),u.oldVersion<=1&&c.createObjectStore(j)}catch(d){if(d.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+u.oldVersion+" to version "+u.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw d}}),i.onerror=function(u){u.preventDefault(),o(i.error)},i.onsuccess=function(){var u=i.result;u.onversionchange=function(c){c.target.close()},r(u),J(e)}})}function $(e){return Q(e,!1)}function ie(e){return Q(e,!0)}function ue(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,n=e.version>e.db.version;if(o&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),n||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function fe(e){return new p(function(t,r){var o=new FileReader;o.onerror=r,o.onloadend=function(n){var i=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},o.readAsBinaryString(e)})}function te(e){var t=N(atob(e.data));return K([t],{type:e.type})}function a(e){return e&&e.__local_forage_encoded_blob}function s(e){var t=this,r=t._initReady().then(function(){var o=L[t._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return M(r,e,e),r}function h(e){W(e);for(var t=L[e.name],r=t.forages,o=0;o<r.length;o++){var n=r[o];n._dbInfo.db&&(n._dbInfo.db.close(),n._dbInfo.db=null)}return e.db=null,$(e).then(function(i){return e.db=i,ue(e)?ie(e):i}).then(function(i){e.db=t.db=i;for(var u=0;u<r.length;u++)r[u]._dbInfo.db=i}).catch(function(i){throw X(e,i),i})}function m(e,t,r,o){o===void 0&&(o=1);try{var n=e.db.transaction(e.storeName,t);r(null,n)}catch(i){if(o>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return p.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return h(e).then(function(){m(e,t,r,o-1)})}).catch(r);r(i)}}function g(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function E(e){var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var n=L[r.name];n||(n=g(),L[r.name]=n),n.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=s);var i=[];function u(){return p.resolve()}for(var c=0;c<n.forages.length;c++){var d=n.forages[c];d!==t&&i.push(d._initReady().catch(u))}var l=n.forages.slice(0);return p.all(i).then(function(){return r.db=n.db,$(r)}).then(function(f){return r.db=f,ue(r,t._defaultConfig.version)?ie(r):f}).then(function(f){r.db=n.db=f,t._dbInfo=r;for(var b=0;b<l.length;b++){var O=l[b];O!==t&&(O._dbInfo.db=r.db,O._dbInfo.version=r.version)}})}function T(e,t){var r=this;e=P(e);var o=new p(function(n,i){r.ready().then(function(){m(r._dbInfo,ee,function(u,c){if(u)return i(u);try{var d=c.objectStore(r._dbInfo.storeName),l=d.get(e);l.onsuccess=function(){var f=l.result;f===void 0&&(f=null),a(f)&&(f=te(f)),n(f)},l.onerror=function(){i(l.error)}}catch(f){i(f)}})}).catch(i)});return _(o,t),o}function V(e,t){var r=this,o=new p(function(n,i){r.ready().then(function(){m(r._dbInfo,ee,function(u,c){if(u)return i(u);try{var d=c.objectStore(r._dbInfo.storeName),l=d.openCursor(),f=1;l.onsuccess=function(){var b=l.result;if(b){var O=b.value;a(O)&&(O=te(O));var k=e(O,b.key,f++);k!==void 0?n(k):b.continue()}else n()},l.onerror=function(){i(l.error)}}catch(b){i(b)}})}).catch(i)});return _(o,t),o}function ce(e,t,r){var o=this;e=P(e);var n=new p(function(i,u){var c;o.ready().then(function(){return c=o._dbInfo,oe.call(t)==="[object Blob]"?D(c.db).then(function(d){return d?t:fe(t)}):t}).then(function(d){m(o._dbInfo,v,function(l,f){if(l)return u(l);try{var b=f.objectStore(o._dbInfo.storeName);d===null&&(d=void 0);var O=b.put(d,e);f.oncomplete=function(){d===void 0&&(d=null),i(d)},f.onabort=f.onerror=function(){var k=O.error?O.error:O.transaction.error;u(k)}}catch(k){u(k)}})}).catch(u)});return _(n,r),n}function ae(e,t){var r=this;e=P(e);var o=new p(function(n,i){r.ready().then(function(){m(r._dbInfo,v,function(u,c){if(u)return i(u);try{var d=c.objectStore(r._dbInfo.storeName),l=d.delete(e);c.oncomplete=function(){n()},c.onerror=function(){i(l.error)},c.onabort=function(){var f=l.error?l.error:l.transaction.error;i(f)}}catch(f){i(f)}})}).catch(i)});return _(o,t),o}function le(e){var t=this,r=new p(function(o,n){t.ready().then(function(){m(t._dbInfo,v,function(i,u){if(i)return n(i);try{var c=u.objectStore(t._dbInfo.storeName),d=c.clear();u.oncomplete=function(){o()},u.onabort=u.onerror=function(){var l=d.error?d.error:d.transaction.error;n(l)}}catch(l){n(l)}})}).catch(n)});return _(r,e),r}function Ye(e){var t=this,r=new p(function(o,n){t.ready().then(function(){m(t._dbInfo,ee,function(i,u){if(i)return n(i);try{var c=u.objectStore(t._dbInfo.storeName),d=c.count();d.onsuccess=function(){o(d.result)},d.onerror=function(){n(d.error)}}catch(l){n(l)}})}).catch(n)});return _(r,e),r}function Ge(e,t){var r=this,o=new p(function(n,i){if(e<0){n(null);return}r.ready().then(function(){m(r._dbInfo,ee,function(u,c){if(u)return i(u);try{var d=c.objectStore(r._dbInfo.storeName),l=!1,f=d.openKeyCursor();f.onsuccess=function(){var b=f.result;if(!b){n(null);return}e===0||l?n(b.key):(l=!0,b.advance(e))},f.onerror=function(){i(f.error)}}catch(b){i(b)}})}).catch(i)});return _(o,t),o}function Ze(e){var t=this,r=new p(function(o,n){t.ready().then(function(){m(t._dbInfo,ee,function(i,u){if(i)return n(i);try{var c=u.objectStore(t._dbInfo.storeName),d=c.openKeyCursor(),l=[];d.onsuccess=function(){var f=d.result;if(!f){o(l);return}l.push(f.key),f.continue()},d.onerror=function(){n(d.error)}}catch(f){n(f)}})}).catch(n)});return _(r,e),r}function $e(e,t){t=Y.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o=this,n;if(!e.name)n=p.reject("Invalid arguments");else{var i=e.name===r.name&&o._dbInfo.db,u=i?p.resolve(o._dbInfo.db):$(e).then(function(c){var d=L[e.name],l=d.forages;d.db=c;for(var f=0;f<l.length;f++)l[f]._dbInfo.db=c;return c});e.storeName?n=u.then(function(c){if(c.objectStoreNames.contains(e.storeName)){var d=c.version+1;W(e);var l=L[e.name],f=l.forages;c.close();for(var b=0;b<f.length;b++){var O=f[b];O._dbInfo.db=null,O._dbInfo.version=d}var k=new p(function(R,z){var x=U.open(e.name,d);x.onerror=function(G){var Ie=x.result;Ie.close(),z(G)},x.onupgradeneeded=function(){var G=x.result;G.deleteObjectStore(e.storeName)},x.onsuccess=function(){var G=x.result;G.close(),R(G)}});return k.then(function(R){l.db=R;for(var z=0;z<f.length;z++){var x=f[z];x._dbInfo.db=R,J(x._dbInfo)}}).catch(function(R){throw(X(e,R)||p.resolve()).catch(function(){}),R})}}):n=u.then(function(c){W(e);var d=L[e.name],l=d.forages;c.close();for(var f=0;f<l.length;f++){var b=l[f];b._dbInfo.db=null}var O=new p(function(k,R){var z=U.deleteDatabase(e.name);z.onerror=function(){var x=z.result;x&&x.close(),R(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},z.onsuccess=function(){var x=z.result;x&&x.close(),k(x)}});return O.then(function(k){d.db=k;for(var R=0;R<l.length;R++){var z=l[R];J(z._dbInfo)}}).catch(function(k){throw(X(e,k)||p.resolve()).catch(function(){}),k})})}return _(n,t),n}var et={_driver:"asyncStorage",_initStorage:E,_support:F(),iterate:V,getItem:T,setItem:ce,removeItem:ae,clear:le,length:Ye,key:Ge,keys:Ze,dropInstance:$e};function tt(){return typeof openDatabase=="function"}var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt="~~local_forage_type~",Ne=/^~~local_forage_type~([^~]+)~/,ve="__lfsc__:",pe=ve.length,me="arbf",be="blob",Ae="si08",je="ui08",De="uic8",Re="si16",ke="si32",Be="ur16",Ce="ui32",Te="fl32",xe="fl64",Me=pe+me.length,Pe=Object.prototype.toString;function Fe(e){var t=e.length*.75,r=e.length,o,n=0,i,u,c,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=new ArrayBuffer(t),f=new Uint8Array(l);for(o=0;o<r;o+=4)i=re.indexOf(e[o]),u=re.indexOf(e[o+1]),c=re.indexOf(e[o+2]),d=re.indexOf(e[o+3]),f[n++]=i<<2|u>>4,f[n++]=(u&15)<<4|c>>2,f[n++]=(c&3)<<6|d&63;return l}function ge(e){var t=new Uint8Array(e),r="",o;for(o=0;o<t.length;o+=3)r+=re[t[o]>>2],r+=re[(t[o]&3)<<4|t[o+1]>>4],r+=re[(t[o+1]&15)<<2|t[o+2]>>6],r+=re[t[o+2]&63];return t.length%3===2?r=r.substring(0,r.length-1)+"=":t.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function nt(e,t){var r="";if(e&&(r=Pe.call(e)),e&&(r==="[object ArrayBuffer]"||e.buffer&&Pe.call(e.buffer)==="[object ArrayBuffer]")){var o,n=ve;e instanceof ArrayBuffer?(o=e,n+=me):(o=e.buffer,r==="[object Int8Array]"?n+=Ae:r==="[object Uint8Array]"?n+=je:r==="[object Uint8ClampedArray]"?n+=De:r==="[object Int16Array]"?n+=Re:r==="[object Uint16Array]"?n+=Be:r==="[object Int32Array]"?n+=ke:r==="[object Uint32Array]"?n+=Ce:r==="[object Float32Array]"?n+=Te:r==="[object Float64Array]"?n+=xe:t(new Error("Failed to get type for BinaryArray"))),t(n+ge(o))}else if(r==="[object Blob]"){var i=new FileReader;i.onload=function(){var u=rt+e.type+"~"+ge(this.result);t(ve+be+u)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),t(null,u)}}function ot(e){if(e.substring(0,pe)!==ve)return JSON.parse(e);var t=e.substring(Me),r=e.substring(pe,Me),o;if(r===be&&Ne.test(t)){var n=t.match(Ne);o=n[1],t=t.substring(n[0].length)}var i=Fe(t);switch(r){case me:return i;case be:return K([i],{type:o});case Ae:return new Int8Array(i);case je:return new Uint8Array(i);case De:return new Uint8ClampedArray(i);case Re:return new Int16Array(i);case Be:return new Uint16Array(i);case ke:return new Int32Array(i);case Ce:return new Uint32Array(i);case Te:return new Float32Array(i);case xe:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var we={serialize:nt,deserialize:ot,stringToBuffer:Fe,bufferToString:ge};function Le(e,t,r,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}function it(e){var t=this,r={db:null};if(e)for(var o in e)r[o]=typeof e[o]!="string"?e[o].toString():e[o];var n=new p(function(i,u){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(c){return u(c)}r.db.transaction(function(c){Le(c,r,function(){t._dbInfo=r,i()},function(d,l){u(l)})},u)});return r.serializer=we,n}function ne(e,t,r,o,n,i){e.executeSql(r,o,n,function(u,c){c.code===c.SYNTAX_ERR?u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(d,l){l.rows.length?i(d,c):Le(d,t,function(){d.executeSql(r,o,n,i)},i)},i):i(u,c)},i)}function at(e,t){var r=this;e=P(e);var o=new p(function(n,i){r.ready().then(function(){var u=r._dbInfo;u.db.transaction(function(c){ne(c,u,"SELECT * FROM "+u.storeName+" WHERE key = ? LIMIT 1",[e],function(d,l){var f=l.rows.length?l.rows.item(0).value:null;f&&(f=u.serializer.deserialize(f)),n(f)},function(d,l){i(l)})})}).catch(i)});return _(o,t),o}function ut(e,t){var r=this,o=new p(function(n,i){r.ready().then(function(){var u=r._dbInfo;u.db.transaction(function(c){ne(c,u,"SELECT * FROM "+u.storeName,[],function(d,l){for(var f=l.rows,b=f.length,O=0;O<b;O++){var k=f.item(O),R=k.value;if(R&&(R=u.serializer.deserialize(R)),R=e(R,k.key,O+1),R!==void 0){n(R);return}}n()},function(d,l){i(l)})})}).catch(i)});return _(o,t),o}function ze(e,t,r,o){var n=this;e=P(e);var i=new p(function(u,c){n.ready().then(function(){t===void 0&&(t=null);var d=t,l=n._dbInfo;l.serializer.serialize(t,function(f,b){b?c(b):l.db.transaction(function(O){ne(O,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,f],function(){u(d)},function(k,R){c(R)})},function(O){if(O.code===O.QUOTA_ERR){if(o>0){u(ze.apply(n,[e,d,r,o-1]));return}c(O)}})})}).catch(c)});return _(i,r),i}function ct(e,t,r){return ze.apply(this,[e,t,r,1])}function st(e,t){var r=this;e=P(e);var o=new p(function(n,i){r.ready().then(function(){var u=r._dbInfo;u.db.transaction(function(c){ne(c,u,"DELETE FROM "+u.storeName+" WHERE key = ?",[e],function(){n()},function(d,l){i(l)})})}).catch(i)});return _(o,t),o}function ft(e){var t=this,r=new p(function(o,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(u){ne(u,i,"DELETE FROM "+i.storeName,[],function(){o()},function(c,d){n(d)})})}).catch(n)});return _(r,e),r}function lt(e){var t=this,r=new p(function(o,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(u){ne(u,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(c,d){var l=d.rows.item(0).c;o(l)},function(c,d){n(d)})})}).catch(n)});return _(r,e),r}function dt(e,t){var r=this,o=new p(function(n,i){r.ready().then(function(){var u=r._dbInfo;u.db.transaction(function(c){ne(c,u,"SELECT key FROM "+u.storeName+" WHERE id = ? LIMIT 1",[e+1],function(d,l){var f=l.rows.length?l.rows.item(0).key:null;n(f)},function(d,l){i(l)})})}).catch(i)});return _(o,t),o}function vt(e){var t=this,r=new p(function(o,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(u){ne(u,i,"SELECT key FROM "+i.storeName,[],function(c,d){for(var l=[],f=0;f<d.rows.length;f++)l.push(d.rows.item(f).key);o(l)},function(c,d){n(d)})})}).catch(n)});return _(r,e),r}function ht(e){return new p(function(t,r){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,i){for(var u=[],c=0;c<i.rows.length;c++)u.push(i.rows.item(c).name);t({db:e,storeNames:u})},function(n,i){r(i)})},function(o){r(o)})})}function yt(e,t){t=Y.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o=this,n;return e.name?n=new p(function(i){var u;e.name===r.name?u=o._dbInfo.db:u=openDatabase(e.name,"","",0),e.storeName?i({db:u,storeNames:[e.storeName]}):i(ht(u))}).then(function(i){return new p(function(u,c){i.db.transaction(function(d){function l(k){return new p(function(R,z){d.executeSql("DROP TABLE IF EXISTS "+k,[],function(){R()},function(x,G){z(G)})})}for(var f=[],b=0,O=i.storeNames.length;b<O;b++)f.push(l(i.storeNames[b]));p.all(f).then(function(){u()}).catch(function(k){c(k)})},function(d){c(d)})})}):n=p.reject("Invalid arguments"),_(n,t),n}var pt={_driver:"webSQLStorage",_initStorage:it,_support:tt(),iterate:ut,getItem:at,setItem:ct,removeItem:st,clear:ft,length:lt,key:dt,keys:vt,dropInstance:yt};function mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ue(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function bt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function gt(){return!bt()||localStorage.length>0}function wt(e){var t=this,r={};if(e)for(var o in e)r[o]=e[o];return r.keyPrefix=Ue(e,t._defaultConfig),gt()?(t._dbInfo=r,r.serializer=we,p.resolve()):p.reject()}function _t(e){var t=this,r=t.ready().then(function(){for(var o=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);i.indexOf(o)===0&&localStorage.removeItem(i)}});return _(r,e),r}function Et(e,t){var r=this;e=P(e);var o=r.ready().then(function(){var n=r._dbInfo,i=localStorage.getItem(n.keyPrefix+e);return i&&(i=n.serializer.deserialize(i)),i});return _(o,t),o}function It(e,t){var r=this,o=r.ready().then(function(){for(var n=r._dbInfo,i=n.keyPrefix,u=i.length,c=localStorage.length,d=1,l=0;l<c;l++){var f=localStorage.key(l);if(f.indexOf(i)===0){var b=localStorage.getItem(f);if(b&&(b=n.serializer.deserialize(b)),b=e(b,f.substring(u),d++),b!==void 0)return b}}});return _(o,t),o}function St(e,t){var r=this,o=r.ready().then(function(){var n=r._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(n.keyPrefix.length)),i});return _(o,t),o}function Ot(e){var t=this,r=t.ready().then(function(){for(var o=t._dbInfo,n=localStorage.length,i=[],u=0;u<n;u++){var c=localStorage.key(u);c.indexOf(o.keyPrefix)===0&&i.push(c.substring(o.keyPrefix.length))}return i});return _(r,e),r}function Nt(e){var t=this,r=t.keys().then(function(o){return o.length});return _(r,e),r}function At(e,t){var r=this;e=P(e);var o=r.ready().then(function(){var n=r._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return _(o,t),o}function jt(e,t,r){var o=this;e=P(e);var n=o.ready().then(function(){t===void 0&&(t=null);var i=t;return new p(function(u,c){var d=o._dbInfo;d.serializer.serialize(t,function(l,f){if(f)c(f);else try{localStorage.setItem(d.keyPrefix+e,l),u(i)}catch(b){(b.name==="QuotaExceededError"||b.name==="NS_ERROR_DOM_QUOTA_REACHED")&&c(b),c(b)}})})});return _(n,r),n}function Dt(e,t){if(t=Y.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var o=this,n;return e.name?n=new p(function(i){e.storeName?i(Ue(e,o._defaultConfig)):i(e.name+"/")}).then(function(i){for(var u=localStorage.length-1;u>=0;u--){var c=localStorage.key(u);c.indexOf(i)===0&&localStorage.removeItem(c)}}):n=p.reject("Invalid arguments"),_(n,t),n}var Rt={_driver:"localStorageWrapper",_initStorage:wt,_support:mt(),iterate:It,getItem:Et,setItem:jt,removeItem:At,clear:_t,length:Nt,key:St,keys:Ot,dropInstance:Dt},kt=function(e,t){return e===t||typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)},Bt=function(e,t){for(var r=e.length,o=0;o<r;){if(kt(e[o],t))return!0;o++}return!1},We=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},de={},qe={},se={INDEXEDDB:et,WEBSQL:pt,LOCALSTORAGE:Rt},Ct=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],he=["dropInstance"],_e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(he),Tt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function xt(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function Ee(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(We(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var Mt=(function(){function e(t){q(this,e);for(var r in se)if(se.hasOwnProperty(r)){var o=se[r],n=o._driver;this[r]=n,de[n]||this.defineDriver(o)}this._defaultConfig=Ee({},Tt),this._config=Ee({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":C(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var r in t){if(r==="storeName"&&(t[r]=t[r].replace(/\W/g,"_")),r==="version"&&typeof t[r]!="number")return new Error("Database version must be a number.");this._config[r]=t[r]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,r,o){var n=new p(function(i,u){try{var c=t._driver,d=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){u(d);return}for(var l=_e.concat("_initStorage"),f=0,b=l.length;f<b;f++){var O=l[f],k=!Bt(he,O);if((k||t[O])&&typeof t[O]!="function"){u(d);return}}var R=function(){for(var x=function(Ft){return function(){var Lt=new Error("Method "+Ft+" is not implemented by the current driver"),He=p.reject(Lt);return _(He,arguments[arguments.length-1]),He}},G=0,Ie=he.length;G<Ie;G++){var Se=he[G];t[Se]||(t[Se]=x(Se))}};R();var z=function(x){de[c]&&console.info("Redefining LocalForage driver: "+c),de[c]=t,qe[c]=x,i()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(z,u):z(!!t._support):z(!0)}catch(x){u(x)}});return M(n,r,o),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,r,o){var n=de[t]?p.resolve(de[t]):p.reject(new Error("Driver not found."));return M(n,r,o),n},e.prototype.getSerializer=function(t){var r=p.resolve(we);return M(r,t),r},e.prototype.ready=function(t){var r=this,o=r._driverSet.then(function(){return r._ready===null&&(r._ready=r._initDriver()),r._ready});return M(o,t,t),o},e.prototype.setDriver=function(t,r,o){var n=this;We(t)||(t=[t]);var i=this._getSupportedDrivers(t);function u(){n._config.driver=n.driver()}function c(f){return n._extend(f),u(),n._ready=n._initStorage(n._config),n._ready}function d(f){return function(){var b=0;function O(){for(;b<f.length;){var k=f[b];return b++,n._dbInfo=null,n._ready=null,n.getDriver(k).then(c).catch(O)}u();var R=new Error("No available storage method found.");return n._driverSet=p.reject(R),n._driverSet}return O()}}var l=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=l.then(function(){var f=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(f).then(function(b){n._driver=b._driver,u(),n._wrapLibraryMethodsWithReady(),n._initDriver=d(i)})}).catch(function(){u();var f=new Error("No available storage method found.");return n._driverSet=p.reject(f),n._driverSet}),M(this._driverSet,r,o),this._driverSet},e.prototype.supports=function(t){return!!qe[t]},e.prototype._extend=function(t){Ee(this,t)},e.prototype._getSupportedDrivers=function(t){for(var r=[],o=0,n=t.length;o<n;o++){var i=t[o];this.supports(i)&&r.push(i)}return r},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,r=_e.length;t<r;t++)xt(this,_e[t])},e.prototype.createInstance=function(t){return new e(t)},e})(),Pt=new Mt;B.exports=Pt},{3:3}]},{},[4])(4)})}),$t=Xe((y,I)=>{(function(w,B){typeof y=="object"&&typeof I<"u"?B(y):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],B):B(w.LocalforageDriverMemory={})})(typeof self<"u"?self:y,function(w){var B="localforage-driver-memory";function H(a){var s=typeof Symbol=="function"&&a[Symbol.iterator],h=0;return s?s.call(a):{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}}}function C(a,s){a=a||[],s=s||{};try{return new Blob(a,s)}catch(E){if(E.name!=="TypeError")throw E;for(var h=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,m=new h,g=0;g<a.length;g+=1)m.append(a[g]);return m.getBlob(s.type)}}var q=/^~~local_forage_type~([^~]+)~/,A=9,U=A+4,F=Object.prototype.toString;function K(a){var s=a.length*.75,h=a.length;a[a.length-1]==="="&&(s--,a[a.length-2]==="="&&s--);for(var m=new ArrayBuffer(s),g=new Uint8Array(m),E=0,T=0;E<h;E+=4){var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[E]),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[E+1]),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[E+2]),le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[E+3]);g[T++]=V<<2|ce>>4,g[T++]=(ce&15)<<4|ae>>2,g[T++]=(ae&3)<<6|le&63}return m}function p(a){for(var s=new Uint8Array(a),h="",m=0;m<s.length;m+=3)h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s[m]>>2],h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(s[m]&3)<<4|s[m+1]>>4],h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(s[m+1]&15)<<2|s[m+2]>>6],h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s[m+2]&63];return s.length%3===2?h=h.substring(0,h.length-1)+"=":s.length%3===1&&(h=h.substring(0,h.length-2)+"=="),h}function _(a,s){var h="";if(a&&(h=F.call(a)),a&&(h==="[object ArrayBuffer]"||a.buffer&&F.call(a.buffer)==="[object ArrayBuffer]")){var m=void 0,g="__lfsc__:";a instanceof ArrayBuffer?(m=a,g+="arbf"):(m=a.buffer,h==="[object Int8Array]"?g+="si08":h==="[object Uint8Array]"?g+="ui08":h==="[object Uint8ClampedArray]"?g+="uic8":h==="[object Int16Array]"?g+="si16":h==="[object Uint16Array]"?g+="ur16":h==="[object Int32Array]"?g+="si32":h==="[object Uint32Array]"?g+="ui32":h==="[object Float32Array]"?g+="fl32":h==="[object Float64Array]"?g+="fl64":s(new Error("Failed to get type for BinaryArray"))),s(g+p(m))}else if(h==="[object Blob]"){var E=new FileReader;E.onload=function(){var T="~~local_forage_type~"+a.type+"~"+p(this.result);s("__lfsc__:blob"+T)},E.readAsArrayBuffer(a)}else try{s(JSON.stringify(a))}catch(T){console.error("Couldn't convert value into a JSON string: ",a),s(null,T)}}function M(a){if(a.substring(0,A)!=="__lfsc__:")return JSON.parse(a);var s=a.substring(U),h=a.substring(A,U),m;if(h==="blob"&&q.test(s)){var g=s.match(q);m=g[1],s=s.substring(g[0].length)}var E=K(s);switch(h){case"arbf":return E;case"blob":return C([E],{type:m});case"si08":return new Int8Array(E);case"ui08":return new Uint8Array(E);case"uic8":return new Uint8ClampedArray(E);case"si16":return new Int16Array(E);case"ur16":return new Uint16Array(E);case"si32":return new Int32Array(E);case"ui32":return new Uint32Array(E);case"fl32":return new Float32Array(E);case"fl64":return new Float64Array(E);default:throw new Error("Unkown type: "+h)}}function P(a){var s,h;if(a===null||typeof a!="object"||"isActiveClone"in a)return a;var m=a instanceof Date?new Date(a):a.constructor();try{for(var g=H(Object.keys(a)),E=g.next();!E.done;E=g.next()){var T=E.value;Object.prototype.hasOwnProperty.call(a,T)&&(a.isActiveClone=null,m[T]=P(a[T]),delete a.isActiveClone)}}catch(V){s={error:V}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(s)throw s.error}}return m}function Y(a,s){return(a.name||s.name)+"/"+(a.storeName||s.storeName)+"/"}function j(a,s){s&&a.then(function(h){s(null,h)},function(h){s(h)})}function Z(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}function L(a,s){var h=this;if(s=Z.apply(this,arguments),a=typeof a!="function"&&a||{},!a.name){var m=this.config();a.name=a.name||m.name,a.storeName=a.storeName||m.storeName}var g;return a.name?g=new Promise(function(E){a.storeName?E(Y(a,h._defaultConfig)):E(a.name+"/")}):g=Promise.reject("Invalid arguments"),{promise:g,callback:s}}function oe(a){return typeof a!="string"&&(console.warn(a+" used as a key, but it is not a string."),a=String(a)),a}var ee={bufferToString:p,deserialize:M,serialize:_,stringToBuffer:K},v={},N=(function(){function a(s){this.kp=s,this.data={}}return a.resolve=function(s){return v[s]||(v[s]=new a(s)),v[s]},a.prototype.clear=function(){this.data={}},a.prototype.drop=function(){this.clear(),delete v[this.kp]},a.prototype.get=function(s){return this.data[s]},a.prototype.key=function(s){return this.keys()[s]},a.prototype.keys=function(){return Object.keys(this.data)},a.prototype.rm=function(s){delete this.data[s]},a.prototype.set=function(s,h){this.data[s]=h},a})();function S(a){var s=a?P(a):{},h=Y(s,this._defaultConfig),m=N.resolve(h);return this._dbInfo=s,this._dbInfo.serializer=ee,this._dbInfo.keyPrefix=h,this._dbInfo.mStore=m,Promise.resolve()}function D(a){var s=this,h=this.ready().then(function(){s._dbInfo.mStore.clear()});return j(h,a),h}function W(a,s){var h=L.apply(this,arguments),m=h.promise,g=h.callback,E=m.then(function(T){N.resolve(T).drop()});return j(E,g),m}function J(a,s){var h=this;a=oe(a);var m=this.ready().then(function(){var g=h._dbInfo.mStore.get(a);return g==null?null:h._dbInfo.serializer.deserialize(g)});return j(m,s),m}function X(a,s){var h=this,m=this.ready().then(function(){for(var g=h._dbInfo.mStore,E=g.keys(),T=0;T<E.length;T++){var V=g.get(E[T]);if(V&&(V=h._dbInfo.serializer.deserialize(V)),V=a(V,E[T],T+1),V!==void 0)return V}});return j(m,s),m}function Q(a,s){var h=this,m=this.ready().then(function(){var g;try{g=h._dbInfo.mStore.key(a),g===void 0&&(g=null)}catch{g=null}return g});return j(m,s),m}function $(a){var s=this,h=this.ready().then(function(){return s._dbInfo.mStore.keys()});return j(h,a),h}function ie(a){var s=this.keys().then(function(h){return h.length});return j(s,a),s}function ue(a,s){var h=this;a=oe(a);var m=this.ready().then(function(){h._dbInfo.mStore.rm(a)});return j(m,s),m}function fe(a,s,h){var m=this;a=oe(a);var g=this.ready().then(function(){s===void 0&&(s=null);var E=s;return new Promise(function(T,V){m._dbInfo.serializer.serialize(s,function(ce,ae){if(ae)V(ae);else try{m._dbInfo.mStore.set(a,ce),T(E)}catch(le){V(le)}})})});return j(g,h),g}var te=!0;w._support=te,w._driver=B,w._initStorage=S,w.clear=D,w.dropInstance=W,w.getItem=J,w.iterate=X,w.key=Q,w.keys=$,w.length=ie,w.removeItem=ue,w.setItem=fe,Object.defineProperty(w,"__esModule",{value:!0})})}),Oe=Qe(Zt()),Je=Qe($t()),er={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",opacity:"0",zIndex:"-1"};function tr(y){for(let[I,w]of Object.entries(er))y.style[I]=w}function rr(y){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(I=>I.src.includes(y))}var nr=class extends Wt{activeElement=null;iframe;relayerSrc=Ve(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href;init(){this.test="hello",this.iframe=new Promise(y=>{let I=()=>{if(rr(encodeURIComponent(this.parameters)))Vt().log();else{let w=document.createElement("iframe");w.classList.add("magic-iframe"),w.dataset.magicIframeLabel=Ve(this.endpoint).host,w.title="Secure Modal",w.src=this.relayerSrc,w.allow="clipboard-read; clipboard-write",tr(w),document.body.appendChild(w),y(w)}};["loaded","interactive","complete"].includes(document.readyState)?I():window.addEventListener("load",I,!1)}),this.iframe.then(y=>{y instanceof HTMLIFrameElement&&y.addEventListener("load",async()=>{this.heartbeatDebounce()})}),window.addEventListener("message",y=>{if(y.origin===this.endpoint&&y.data.msgType&&(y.data.msgType.includes(qt.MAGIC_PONG)&&(this.lastPongTime=Date.now()),y.data&&this.messageHandlers.size)){y.data.response=y.data.response??{},this.stopHeartBeat();for(let I of this.messageHandlers.values())I(y)}}),window.addEventListener("beforeunload",()=>{this.stopHeartBeat()})}async showOverlay(){let y=await this.iframe;y.style.display="block",y.style.zIndex="2147483647",y.style.opacity="1",this.activeElement=document.activeElement,y.focus()}async hideOverlay(){let y=await this.iframe;y.style.display="none",y.style.zIndex="-1",y.style.opacity="0",this.activeElement?.focus&&this.activeElement.focus(),this.activeElement=null}async _post(y){let I=await this.iframe;if(I&&I.contentWindow)I.contentWindow.postMessage(y,this.endpoint);else throw Ht()}async checkRelayerExistsInDOM(){let y=await this.iframe;return!y||!y.contentWindow?!1:!![].slice.call(document.querySelectorAll(".magic-iframe")).find(I=>I.src.includes(encodeURIComponent(this.parameters)))}async reloadRelayer(){let y=await this.iframe;if(this.stopHeartBeat(),!y){this.init(),console.warn("Magic SDK: Modal lost, re-initiating");return}if(!y.contentWindow){document.body.appendChild(y),console.warn("Magic SDK: Modal did not append in the iframe, re-initiating");return}y&&(y.src=this.relayerSrc)}},ir=zt(Ut,{platform:"web",sdkName:"magic-sdk",version:"29.4.2",defaultEndpoint:"https://auth.magic.link/",ViewController:nr,configureStorage:async()=>{let y=Oe.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return await y.defineDriver(Je),await y.setDriver([Oe.default.INDEXEDDB,Oe.default.LOCALSTORAGE,Je._driver]),y}});export{cr as AuthEventOnReceived,sr as DeepLinkPage,fr as DeviceVerificationEventEmit,lr as DeviceVerificationEventOnReceived,dr as DisableMFAEventEmit,vr as DisableMFAEventOnReceived,hr as EnableMFAEventEmit,yr as EnableMFAEventOnReceived,pr as EthChainType,mr as Extension,br as ExtensionError,gr as ExtensionWarning,wr as FarcasterLoginEventEmit,_r as LocalStorageKeys,Er as LoginWithEmailOTPEventEmit,Ir as LoginWithEmailOTPEventOnReceived,Sr as LoginWithMagicLinkEventEmit,Or as LoginWithMagicLinkEventOnReceived,Nr as LoginWithSmsOTPEventEmit,Ar as LoginWithSmsOTPEventOnReceived,ir as Magic,qt as MagicIncomingWindowMessage,jr as MagicOutgoingWindowMessage,Dr as MagicPayloadMethod,Rr as NftCheckoutIntermediaryEvents,kr as RPCError,Br as RPCErrorCode,Cr as RecencyCheckEventEmit,Tr as RecencyCheckEventOnReceived,xr as RecoverAccountEventEmit,Mr as RecoverAccountEventOnReceived,Pr as RecoveryFactorEventEmit,Fr as RecoveryFactorEventOnReceived,Lr as RecoveryMethodType,zr as SDKError,Ur as SDKErrorCode,Wr as SDKWarning,qr as SDKWarningCode,Hr as ThirdPartyWalletEvents,Vr as UiEventsEmit,Jr as UpdateEmailEventEmit,Kr as UpdateEmailEventOnReceived,Xr as UserEventsEmit,Qr as UserEventsOnReceived,Yr as WalletEventOnReceived,Gr as isPromiEvent,Zr as routeToMagicMethods};
