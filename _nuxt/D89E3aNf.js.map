{"version":3,"file":"D89E3aNf.js","sources":["../../../node_modules/reka-ui/dist/RovingFocus/RovingFocusItem.js"],"sourcesContent":["import { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { focusFirst, getFocusIntent, wrapArray } from \"./utils.js\";\nimport { injectRovingFocusGroupContext } from \"./RovingFocusGroup.js\";\nimport { computed, createBlock, createVNode, defineComponent, nextTick, onMounted, onUnmounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/RovingFocus/RovingFocusItem.vue?vue&type=script&setup=true&lang.ts\nvar RovingFocusItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"RovingFocusItem\",\n\tprops: {\n\t\ttabStopId: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tfocusable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tallowShiftKey: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst context = injectRovingFocusGroupContext();\n\t\tconst randomId = useId();\n\t\tconst id = computed(() => props.tabStopId || randomId);\n\t\tconst isCurrentTabStop = computed(() => context.currentTabStopId.value === id.value);\n\t\tconst { getItems, CollectionItem } = useCollection();\n\t\tonMounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemAdd();\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemRemove();\n\t\t});\n\t\tfunction handleKeydown(event) {\n\t\t\tif (event.key === \"Tab\" && event.shiftKey) {\n\t\t\t\tcontext.onItemShiftTab();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.target !== event.currentTarget) return;\n\t\t\tconst focusIntent = getFocusIntent(event, context.orientation.value, context.dir.value);\n\t\t\tif (focusIntent !== void 0) {\n\t\t\t\tif (event.metaKey || event.ctrlKey || event.altKey || (props.allowShiftKey ? false : event.shiftKey)) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet candidateNodes = [...getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\")];\n\t\t\t\tif (focusIntent === \"last\") candidateNodes.reverse();\n\t\t\t\telse if (focusIntent === \"prev\" || focusIntent === \"next\") {\n\t\t\t\t\tif (focusIntent === \"prev\") candidateNodes.reverse();\n\t\t\t\t\tconst currentIndex = candidateNodes.indexOf(event.currentTarget);\n\t\t\t\t\tcandidateNodes = context.loop.value ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n\t\t\t\t}\n\t\t\t\tnextTick(() => focusFirst(candidateNodes));\n\t\t\t}\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\ttabindex: isCurrentTabStop.value ? 0 : -1,\n\t\t\t\t\t\"data-orientation\": unref(context).orientation.value,\n\t\t\t\t\t\"data-active\": _ctx.active ? \"\" : void 0,\n\t\t\t\t\t\"data-disabled\": !_ctx.focusable ? \"\" : void 0,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\t\tif (!_ctx.focusable) event.preventDefault();\n\t\t\t\t\t\telse unref(context).onItemFocus(id.value);\n\t\t\t\t\t}),\n\t\t\t\t\tonFocus: _cache[1] || (_cache[1] = ($event) => unref(context).onItemFocus(id.value)),\n\t\t\t\t\tonKeydown: handleKeydown\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"data-active\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/RovingFocus/RovingFocusItem.vue\nvar RovingFocusItem_default = RovingFocusItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { RovingFocusItem_default };\n//# sourceMappingURL=RovingFocusItem.js.map"],"names":["RovingFocusItem_vue_vue_type_script_setup_true_lang_default","defineComponent","__props","props","context","injectRovingFocusGroupContext","randomId","useId","id","computed","isCurrentTabStop","getItems","CollectionItem","useCollection","onMounted","onUnmounted","handleKeydown","event","focusIntent","getFocusIntent","candidateNodes","i","currentIndex","wrapArray","nextTick","focusFirst","_ctx","_cache","openBlock","createBlock","unref","withCtx","createVNode","Primitive","$event","renderSlot","RovingFocusItem_default"],"mappings":"gsBAQA,IAAIA,EAA8EC,EAAgB,CACjG,OAAQ,kBACR,MAAO,CACN,UAAW,CACV,KAAM,OACN,SAAU,EACb,EACE,UAAW,CACV,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EACE,OAAQ,CACP,KAAM,QACN,SAAU,EACb,EACE,cAAe,CACd,KAAM,QACN,SAAU,EACb,EACE,QAAS,CACR,KAAM,QACN,SAAU,EACb,EACE,GAAI,CACH,KAAM,KACN,SAAU,GACV,QAAS,MACZ,CACA,EACC,MAAMC,EAAS,CACd,MAAMC,EAAQD,EACRE,EAAUC,EAA6B,EACvCC,EAAWC,EAAK,EAChBC,EAAKC,EAAS,IAAMN,EAAM,WAAaG,CAAQ,EAC/CI,EAAmBD,EAAS,IAAML,EAAQ,iBAAiB,QAAUI,EAAG,KAAK,EAC7E,CAAE,SAAAG,EAAU,eAAAC,CAAc,EAAKC,EAAa,EAClDC,EAAU,IAAM,CACXX,EAAM,WAAWC,EAAQ,mBAAkB,CAChD,CAAC,EACDW,EAAY,IAAM,CACbZ,EAAM,WAAWC,EAAQ,sBAAqB,CACnD,CAAC,EACD,SAASY,EAAcC,EAAO,CAC7B,GAAIA,EAAM,MAAQ,OAASA,EAAM,SAAU,CAC1Cb,EAAQ,eAAc,EACtB,MACD,CACA,GAAIa,EAAM,SAAWA,EAAM,cAAe,OAC1C,MAAMC,EAAcC,EAAeF,EAAOb,EAAQ,YAAY,MAAOA,EAAQ,IAAI,KAAK,EACtF,GAAIc,IAAgB,OAAQ,CAC3B,GAAID,EAAM,SAAWA,EAAM,SAAWA,EAAM,QAAW,CAAAd,EAAM,eAAwBc,EAAM,SAAW,OACtGA,EAAM,eAAc,EACpB,IAAIG,EAAiB,CAAC,GAAGT,EAAQ,EAAG,IAAKU,GAAMA,EAAE,GAAG,EAAE,OAAQA,GAAMA,EAAE,QAAQ,WAAa,EAAE,CAAC,EAC9F,GAAIH,IAAgB,OAAQE,EAAe,QAAO,UACzCF,IAAgB,QAAUA,IAAgB,OAAQ,CACtDA,IAAgB,QAAQE,EAAe,QAAO,EAClD,MAAME,EAAeF,EAAe,QAAQH,EAAM,aAAa,EAC/DG,EAAiBhB,EAAQ,KAAK,MAAQmB,EAAUH,EAAgBE,EAAe,CAAC,EAAIF,EAAe,MAAME,EAAe,CAAC,CAC1H,CACAE,EAAS,IAAMC,EAAWL,CAAc,CAAC,CAC1C,CACD,CACA,MAAO,CAACM,EAAMC,KACNC,EAAS,EAAIC,EAAYC,EAAMlB,CAAc,EAAG,KAAM,CAC5D,QAASmB,EAAQ,IAAM,CAACC,EAAYF,EAAMG,CAAS,EAAG,CACrD,SAAUvB,EAAiB,MAAQ,EAAI,GACvC,mBAAoBoB,EAAM1B,CAAO,EAAE,YAAY,MAC/C,cAAesB,EAAK,OAAS,GAAK,OAClC,gBAAkBA,EAAK,UAAiB,OAAL,GACnC,GAAIA,EAAK,GACT,WAAYA,EAAK,QACjB,YAAaC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAKV,GAAU,CAC5CS,EAAK,UACLI,EAAM1B,CAAO,EAAE,YAAYI,EAAG,KAAK,EADnBS,EAAM,eAAc,CAE1C,GACA,QAASU,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAKO,GAAWJ,EAAM1B,CAAO,EAAE,YAAYI,EAAG,KAAK,GAClF,UAAWQ,CAChB,EAAO,CACF,QAASe,EAAQ,IAAM,CAACI,EAAWT,EAAK,OAAQ,SAAS,CAAC,CAAC,EAC3D,EAAG,CACR,EAAO,EAAG,CACL,WACA,mBACA,cACA,gBACA,KACA,UACL,CAAK,CAAC,CAAC,EACH,EAAG,CACP,CAAI,EAEH,CACD,CAAC,EAIGU,EAA0BpC"}