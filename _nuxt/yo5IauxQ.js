(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ba5ed65a-34a8-41ec-810c-58660128bf1f",e._sentryDebugIdIdentifier="sentry-dbid-ba5ed65a-34a8-41ec-810c-58660128bf1f")})()}catch{}function f(e,n,t){return function(i,a){for(;!i.eol();){if(i.match(n)){a.tokenize=o;break}i.next()}return t&&(a.tokenize=t),e}}function c(e){return function(n,t){for(;!n.eol();)n.next();return t.tokenize=o,e}}function o(e,n){function t(h){return n.tokenize=h,h(e,n)}var i=e.sol(),a=e.next();switch(a){case"{":return e.eat("/"),e.eatSpace(),e.eatWhile(/[^\s\u00a0=\"\'\/?(}]/),n.tokenize=k,"tag";case"_":if(e.eat("_"))return t(f("strong","__",o));break;case"'":if(e.eat("'"))return t(f("em","''",o));break;case"(":if(e.eat("("))return t(f("link","))",o));break;case"[":return t(f("url","]",o));case"|":if(e.eat("|"))return t(f("comment","||"));break;case"-":if(e.eat("="))return t(f("header string","=-",o));if(e.eat("-"))return t(f("error tw-deleted","--",o));break;case"=":if(e.match("=="))return t(f("tw-underline","===",o));break;case":":if(e.eat(":"))return t(f("comment","::"));break;case"^":return t(f("tw-box","^"));case"~":if(e.match("np~"))return t(f("meta","~/np~"));break}if(i)switch(a){case"!":return e.match("!!!!!")||e.match("!!!!")||e.match("!!!")||e.match("!!"),t(c("header string"));case"*":case"#":case"+":return t(c("tw-listitem bracket"))}return null}var g,s;function k(e,n){var t=e.next(),i=e.peek();return t=="}"?(n.tokenize=o,"tag"):t=="("||t==")"?"bracket":t=="="?(s="equals",i==">"&&(e.next(),i=e.peek()),/[\'\"]/.test(i)||(n.tokenize=y()),"operator"):/[\'\"]/.test(t)?(n.tokenize=v(t),n.tokenize(e,n)):(e.eatWhile(/[^\s\u00a0=\"\'\/?]/),"keyword")}function v(e){return function(n,t){for(;!n.eol();)if(n.next()==e){t.tokenize=k;break}return"string"}}function y(){return function(e,n){for(;!e.eol();){var t=e.next(),i=e.peek();if(t==" "||t==","||/[ )}]/.test(i)){n.tokenize=k;break}}return"string"}}var r,l;function d(){for(var e=arguments.length-1;e>=0;e--)r.cc.push(arguments[e])}function u(){return d.apply(null,arguments),!0}function x(e,n){var t=r.context&&r.context.noIndent;r.context={prev:r.context,pluginName:e,indent:r.indented,startOfLine:n,noIndent:t}}function p(){r.context&&(r.context=r.context.prev)}function z(e){if(e=="openPlugin")return r.pluginName=g,u(b,I(r.startOfLine));if(e=="closePlugin"){var n=!1;return r.context?(n=r.context.pluginName!=g,p()):n=!0,n&&(l="error"),u(_(n))}else return e=="string"&&((!r.context||r.context.name!="!cdata")&&x("!cdata"),r.tokenize==o&&p()),u()}function I(e){return function(n){return n=="selfclosePlugin"||n=="endPlugin"||n=="endPlugin"&&x(r.pluginName,e),u()}}function _(e){return function(n){return e&&(l="error"),n=="endPlugin"?u():d()}}function b(e){return e=="keyword"?(l="attribute",u(b)):e=="equals"?u(L,b):d()}function L(e){return e=="keyword"?(l="string",u()):e=="string"?u(w):d()}function w(e){return e=="string"?u(w):d()}const N={name:"tiki",startState:function(){return{tokenize:o,cc:[],indented:0,startOfLine:!0,pluginName:null,context:null}},token:function(e,n){if(e.sol()&&(n.startOfLine=!0,n.indented=e.indentation()),e.eatSpace())return null;l=s=g=null;var t=n.tokenize(e,n);if((t||s)&&t!="comment")for(r=n;;){var i=n.cc.pop()||z;if(i(s||t))break}return n.startOfLine=!1,l||t},indent:function(e,n,t){var i=e.context;if(i&&i.noIndent)return 0;for(i&&/^{\//.test(n)&&(i=i.prev);i&&!i.startOfLine;)i=i.prev;return i?i.indent+t.unit:0}};export{N as tiki};
