import{d,a as f,b as l,s as b,c as y,e as p}from"./9S2XGRg9.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="96b04625-7a44-47b0-92e0-722422d2322b",t._sentryDebugIdIdentifier="sentry-dbid-96b04625-7a44-47b0-92e0-722422d2322b")})()}catch{}function i(){return{isReady:!1,hasAccount:!1,email:"",stripeConnectAccountId:""}}const g=d("stripe-connect",()=>{const{LIKE_CO_API:t}=f().public,a=l(),{token:s}=b(a),n=p({}),u=y(()=>e=>n.value[e]||i());async function r(e){n.value[e]||(n.value[e]=i());const o=await $fetch(`${t}/likernft/book/user/connect/status`,{headers:{authorization:`Bearer ${s.value}`},query:{wallet:e}});return o?(n.value[e]=o,o):n.value[e]}async function c(e){await r(e);const o=n.value[e];return o?.hasAccount&&!o?.isReady&&(await $fetch(`${t}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${s.value}`}})).isReady&&(n.value[e]={...o,isReady:!0}),n.value[e]}return{stripeConnectStatusWalletMap:n,getStripeConnectStatusByWallet:u,fetchStripeConnectStatusByWallet:r,refreshStripeConnectStatus:c}});export{g as u};
