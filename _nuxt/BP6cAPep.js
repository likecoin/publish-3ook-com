import{g as v,a as w,R as S,b as R,s as T,w as A,o as x,e as _,S as C,l as B,m as n,an as E,n as i,q as e,p as l,a1 as I,C as a,ao as $,N as h,X as D,ac as U}from"./9S2XGRg9.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};o.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new o.Error().stack;r&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[r]="080271b9-9ea4-44d0-a08a-db2fa3e048b6",o._sentryDebugIdIdentifier="sentry-dbid-080271b9-9ea4-44d0-a08a-db2fa3e048b6")})()}catch{}const L={key:0,class:"text-sm font-bold font-mono"},N={key:1,class:"text-sm font-bold font-mono"},P={key:2,class:"text-sm font-bold font-mono"},M={key:0},O={key:1},V={key:2,class:"space-y-4"},z=v({__name:"refresh",setup(o){const{LIKE_CO_API:r}=w().public,b=S(),y=R(),{token:m}=T(y),c=_(""),s=_(!1),d=_(!1);return A(s,t=>{t&&(c.value="")}),x(async()=>{try{s.value=!0;const t=await $fetch(`${r}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${m.value}`}});d.value=t.isReady||!1,setTimeout(async()=>{await C(b({name:"settings"}),{replace:!0})},3e3)}catch(t){console.error(t),c.value=t.toString()}finally{s.value=!1}}),(t,f)=>{const u=$,p=D,g=I,k=U;return n(),B(k,{open:!0},E({header:i(()=>[e(s)?(n(),a("h2",L," Refreshing Stripe Connect Payout Account Status ")):e(d)&&!e(c)?(n(),a("h2",N," Stripe Connect Account Status Refreshed ")):(n(),a("h2",P," An error occurred when refreshing the Stripe Connect Account Status "))]),body:i(()=>[e(s)?(n(),a("div",M,[l(u,{animation:"carousel"},{indicator:i(()=>[...f[0]||(f[0]=[h(" Refreshing... ",-1)])]),_:1})])):e(d)&&!e(c)?(n(),a("div",O,[l(u,{value:100},{indicator:i(()=>[...f[1]||(f[1]=[h(" Refreshed! Redirect back in 3 seconds... ",-1)])]),_:1})])):(n(),a("div",V,[l(u,{value:100,color:"error"}),l(p,{icon:"i-heroicons-exclamation-triangle",color:"error",variant:"soft",title:e(c)||"Unknown error"},null,8,["title"])]))]),_:2},[!e(s)&&!e(d)?{name:"footer",fn:i(()=>[l(g,{label:"Go Back",to:e(b)({name:"settings"})},null,8,["to"])]),key:"0"}:void 0]),1024)}}});export{z as default};
