import{L as p}from"./CSf5BCM0.js";import{u as y,s as w,a as g,D as I}from"./9S2XGRg9.js";import{u as N,f as S}from"./2HupUEEh.js";import{u as E,a as F}from"./CFNaZjOu.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"cd189bad150b481aa5ecb2e95de26ec677010e55"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="d4278c2b-2d92-4480-a29a-4edeac757028",e._sentryDebugIdIdentifier="sentry-dbid-d4278c2b-2d92-4480-a29a-4edeac757028")})()}catch{}function L(){const e=y(),{wallet:a}=w(e),{assertSufficientBalanceForTransaction:c,waitForTransactionReceipt:l}=E(),{writeContractAsync:d}=F(),{LIKE_NFT_CONTRACT_ADDRESS:f,LIKE_EVM_NFT_TARGET_ADDRESS:o}=g().public;async function u(m){const{payload:_,computeISCNSalt:b}=N({iscnFormData:m.iscnFormData}),n=S(_.value),s={...n,symbol:"BOOK",image:n?.thumbnailUrl||"",external_link:n?.url||"",nft_meta_collection_id:"nft_book",nft_meta_collection_name:"NFT Book",nft_meta_collection_description:"NFT Book by Liker Land",recordTimestamp:new Date().toISOString()},T=b(a.value),r={address:f,abi:p,functionName:"newBookNFT",args:[T,{creator:a.value,updaters:[a.value,o],minters:[a.value,o],config:{name:s.name,symbol:"BOOK",metadata:JSON.stringify(s),max_supply:I}},500]};await c({wallet:a.value,...r});const i=await d(r),t=await l({hash:i,confirmations:2});if(!t||t.status!=="success")throw new Error("NFT class creation failed");if(!t.logs?.[0]?.address)throw new Error("Invalid class ID in receipt");return{classId:t.logs[0].address,txHash:i}}return{createNFTClass:u}}export{L as u};
